# Handoff: Ring Multi-Platform Adaptation

## Metadata
| Field | Value |
|-------|-------|
| Session Name | ring-multiplatform-adaptation |
| Created | 2026-01-05T01:01:23Z |
| Branch | main |
| Commit | 7e449aa4b3fe6b132c52dd3424e4cdf8addfee0b |
| Status | **RESEARCH COMPLETE** - Ready for implementation |

## Goal

Adapt Ring's skills, agents, commands, and hooks system to work natively with **OpenCode** and **Factory AI (Droid)** platforms while maintaining Claude Code compatibility.

## Task Summary

### What Was Done
1. **Crawled OpenCode documentation** (https://opencode.ai/docs)
   - 33 pages captured → 34 markdown files (including INDEX.md)
   - Saved to `.references/opencode/` (344KB)

2. **Crawled Factory AI (Droid) documentation** (https://docs.factory.ai)
   - 100 pages crawled → 79 unique markdown files
   - Saved to `.references/droid/` (964KB)

3. **Created organized INDEX.md files** for both reference sets with categorized navigation

### What Was Learned

#### Platform Comparison Matrix

| Feature | Claude Code (Ring) | OpenCode | Droid |
|---------|-------------------|----------|-------|
| **Skills Path** | `.claude/skills/*/SKILL.md` | `.opencode/skill/*/SKILL.md` + `.claude/skills/*/SKILL.md` | `.factory/skills/*/SKILL.md` |
| **Instructions File** | `CLAUDE.md` | Rules system | `AGENTS.md` |
| **Project Instructions** | `CLAUDE.md` | `.opencode/rules/*.md` | `AGENTS.md` (same as Ring's symlink!) |
| **Hooks** | `hooks.json` + shell scripts | Not documented | Hooks system (similar to Claude Code) |
| **Custom Commands** | `commands/*.md` | `commands/*.md` | Custom slash commands |
| **Subagents** | `agents/*.md` | `agents/*.md` | "Custom Droids" |
| **MCP Support** | Yes | Yes | Yes |

#### Key Compatibility Findings

1. **OpenCode has Claude Code compatibility mode**:
   - Reads `.claude/skills/<name>/SKILL.md` paths
   - Similar frontmatter format (name, description, license, compatibility, metadata)
   - Skills are model-invoked (on-demand loading)

2. **Droid uses AGENTS.md** (Ring already has this as symlink to CLAUDE.md):
   - Direct compatibility with Ring's existing setup
   - Skills format nearly identical to Ring's SKILL.md

3. **Frontmatter fields are similar across all three**:
   - `name` (required)
   - `description` (required)
   - Platform-specific optional fields

## Critical References

### Must Read Before Continuing

| File | Purpose |
|------|---------|
| `.references/opencode/INDEX.md` | Navigation for OpenCode docs |
| `.references/opencode/skills.md` | **OpenCode skills format** |
| `.references/opencode/agents.md` | OpenCode agents system |
| `.references/opencode/rules.md` | OpenCode instructions (like CLAUDE.md) |
| `.references/opencode/plugins.md` | OpenCode extension mechanism |
| `.references/droid/INDEX.md` | Navigation for Droid docs |
| `.references/droid/cli-configuration-skills.md` | **Droid skills format** |
| `.references/droid/cli-configuration-agents-md.md` | Droid AGENTS.md support |
| `.references/droid/cli-configuration-hooks-guide.md` | Droid hooks system |
| `.references/droid/cli-configuration-custom-droids.md` | Custom subagents in Droid |

### Ring Files to Modify

| File | Adaptation Needed |
|------|-------------------|
| `default/skills/*/SKILL.md` | Add platform compatibility metadata |
| `CLAUDE.md` / `AGENTS.md` | Already compatible (symlink) |
| `install-ring.sh` | Multi-platform installation |
| `.claude-plugin/marketplace.json` | Platform-specific plugin configs |

## Decisions Made

1. **Reference storage location**: `.references/{platform}/` - keeps external docs separate from Ring source
2. **Index format**: Markdown with categorized tables for easy navigation
3. **Frontmatter preservation**: Each crawled file includes original URL and crawl timestamp

## Action Items (Next Session)

### Phase 1: Analysis
- [ ] Compare SKILL.md frontmatter fields across all 3 platforms
- [ ] Identify minimum common fields for cross-platform compatibility
- [ ] Document platform-specific optional fields

### Phase 2: Skill Adaptation
- [ ] Add `compatibility` field to Ring skills indicating supported platforms
- [ ] Create platform detection in skill loader
- [ ] Test skill discovery on each platform

### Phase 3: Installer Update
- [ ] Detect which AI coding tool is installed (Claude Code, OpenCode, Droid)
- [ ] Install to appropriate paths based on detected platform
- [ ] Support multi-platform installation

### Phase 4: Documentation
- [ ] Update README.md with multi-platform support
- [ ] Create platform-specific installation guides
- [ ] Document cross-platform compatibility matrix

## Working Set

| Type | Path | Notes |
|------|------|-------|
| Reference | `.references/opencode/` | 34 files, 344KB |
| Reference | `.references/droid/` | 79 files, 964KB |
| Config | `CLAUDE.md` → `AGENTS.md` | Symlink already works for Droid |
| Installer | `install-ring.sh` | Needs multi-platform support |

## Open Questions (UNCONFIRMED)

1. **Does OpenCode support hooks?** - Not clearly documented, needs testing
2. **Droid skill discovery paths** - Are there additional paths beyond `.factory/skills/`?
3. **Command format differences** - Do slash commands work identically across platforms?
4. **Agent invocation syntax** - How do subagents/droids/agents differ in invocation?

## Resume Instructions

```bash
# Resume this handoff
/resume-handoff docs/handoffs/ring-multiplatform-adaptation/2026-01-05_01-01-23_docs-crawled.md
```

**Recommended first action**: Read the skills documentation for both platforms to understand frontmatter differences:
```
Read .references/opencode/skills.md
Read .references/droid/cli-configuration-skills.md
```
